(this["webpackJsonphallo-lawyer-admin"]=this["webpackJsonphallo-lawyer-admin"]||[]).push([[8],{494:function(e,a,r){"use strict";r.r(a);var t=r(7),n=r.n(t),o=r(40),c=r(123),i=r(0),l=r(486),s=r(244),y=r(491),g=r(366),u=r(485),m=r(112),p=r(43),b=r(498),j=r(31),d=r(467),h=d.a().shape({categoryName:d.b().required(),iconUrl:d.b().url().required()}),x=d.a().shape({categoryName:d.b().required()}),f=r(4);a.default=function(){var e=Object(p.g)(),a=Object(p.h)(),r=a.id,t=a.name,d=a.translation,O=Object(i.useMemo)((function(){return!!r}),[r]),N=l.a.useForm(),w=Object(c.a)(N,1)[0],C=function(){var a=Object(o.a)(n.a.mark((function a(t){var o,c,i,l,y;return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,!O){a.next=22;break}return o={categoryName:t.categoryName,categoryTranslation:t.categoryTranslation,iconUrl:t.category_icon},a.next=5,x.validate(o);case 5:if(!a.sent){a.next=20;break}if(t.category_icon){a.next=13;break}return a.next=10,j.a.editLawyerCategory(r,t.categoryName,t.categoryTranslation,null);case 10:e.push("/app/lawyer-category"),a.next=20;break;case 13:return a.next=15,j.a.uploadImage(t.category_icon.file.name,t.category_icon.fileList[0].originFileObj);case 15:return c=a.sent,i={categoryName:t.categoryName,categoryTranslation:t.categoryTranslation,iconUrl:c},a.next=19,j.a.editLawyerCategory(r,i.categoryName,i.categoryTranslation,i.iconUrl);case 19:e.push("/app/lawyer-category");case 20:a.next=33;break;case 22:return a.next=24,j.a.uploadImage(t.category_icon.file.name,t.category_icon.fileList[0].originFileObj);case 24:return l=a.sent,y={categoryName:t.categoryName,categoryTranslation:t.categoryTranslation,iconUrl:l},a.next=28,h.validate(y);case 28:if(!a.sent){a.next=33;break}return a.next=32,j.a.editLawyerCategory(r,y.categoryName,y.categoryTranslation,y.iconUrl);case 32:e.push("/app/lawyer-category");case 33:a.next=38;break;case 35:a.prev=35,a.t0=a.catch(0),s.b.error("error : "+a.t0.message);case 38:case"end":return a.stop()}}),a,null,[[0,35]])})));return function(e){return a.apply(this,arguments)}}();return Object(f.jsx)(y.a,{children:Object(f.jsxs)(l.a,{labelCol:{span:3},wrapperCol:{span:10},form:w,name:"lawyer_category_input",onFinish:C,scrollToFirstError:!0,labelAlign:"left",initialValues:{categoryName:O?t:null,categoryTranslation:O?d:null},children:[Object(f.jsx)(l.a.Item,{name:"categoryName",label:"Category Name",rules:[{required:!0,message:"Please chose Category Name"}],children:Object(f.jsx)(g.a,{})}),Object(f.jsx)(l.a.Item,{name:"categoryTranslation",label:"Category in Arabic",rules:[{required:!0,message:"Please chose Category in Arabic"}],children:Object(f.jsx)(g.a,{})}),Object(f.jsx)(l.a.Item,{name:"category_icon",label:"Category Icon",rules:[{required:!O,message:"Please chose Category Icon"}],children:Object(f.jsx)(u.a,{name:"logo",listType:"picture",multiple:!0,maxCount:1,beforeUpload:function(e){var a="image/jpeg"===e.type||"image/png"===e.type;a||s.b.error("You can only upload JPG/PNG file!");var r=e.size/1024/1024<2;return r||s.b.error("Image must smaller than 2MB!"),a&&r&&!1},children:Object(f.jsx)(m.a,{icon:Object(f.jsx)(b.a,{}),children:"Click to upload"})})}),Object(f.jsx)(l.a.Item,{wrapperCol:{offset:3,span:16},children:Object(f.jsx)(m.a,{type:"primary",htmlType:"submit",children:"Submit"})})]})})}}}]);
//# sourceMappingURL=8.517d4f88.chunk.js.map